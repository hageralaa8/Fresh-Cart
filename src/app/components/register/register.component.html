<!-- <div class="w-50 mx-auto">
    <form (ngSubmit)="handleSubmit(myForm)" #myForm="ngForm">
        <label for="name" class="mt-3">username</label>
        <input #uName="ngModel" ngModel name="username" id="name" type="text" class="form-control" required minlength="3">
        <div *ngIf="uName.invalid && uName.touched" class="text-danger">
            <p *ngIf="uName.errors?.['required']" class="my-0">username is required</p>
            <p *ngIf="uName.errors?.['minlength']" class="my-0">username minimum length is 3</p>
        </div>

        <label for="email" class="mt-3">Email</label>
        <input #uEmail="ngModel" ngModel name="email" id="email" type="email" class="form-control" required email>
        <div *ngIf="uEmail.invalid && uEmail.touched" class="text-danger">
            <p *ngIf="uEmail.errors?.['required']" class="my-0">email is required</p>
            <p *ngIf="uEmail.errors?.['email']" class="my-0">please enter a valid email</p>
        </div>

        <label for="password" class="mt-3">password</label>
        <input #uPassword="ngModel" ngModel name="password" id="password" type="password" class="form-control" required pattern="^[A-Z].{5,}$">
        <div *ngIf="uPassword.invalid && uPassword.touched" class="text-danger">
            <p *ngIf="uPassword.errors?.['required']" class="my-0">password is required</p>
            <p *ngIf="uPassword.errors?.['pattern']" class="my-0">password minimum lenght is pattern</p>
        </div>

        <button class="btn btn-primary my-3">submit</button>
    </form>
</div> -->
<!-- start reactive forms -->
<!-- 1- arbot form fe html b form typescript-->
<div class="w-50 mx-auto my-5">
    <form (ngSubmit)="handleRegister(registerForm)" [formGroup]="registerForm">
        <h2>Register Now:</h2>
        <p *ngIf="apiErrorMessage" class="alert alert-danger text-center">{{apiErrorMessage}}</p>
        <label for="name">name</label>
        <input class="form-control" formControlName="name" id="name" type="text">
        <div *ngIf="registerForm.get('name')?.invalid&&registerForm.get('name')?.touched" class="text-danger">
            <p *ngIf="registerForm.get('name')?.getError('required')" class="my-0">name is required</p>
            <!-- minimum all characters small -->
            <p *ngIf="registerForm.get('name')?.getError('minlength')" class="my-0">name minimum length is 3</p>
            <p *ngIf="registerForm.get('name')?.getError('maxlength')" class="my-0">name maxium length is 20</p>
        </div>

        <label class="mt-3" for="email">email</label>
        <input class="form-control" formControlName="email" id="email" type="email">
        <div *ngIf="registerForm.get('email')?.invalid&&registerForm.get('email')?.touched" class="text-danger">
            <p *ngIf="registerForm.get('email')?.getError('required')" class="my-0">email is required</p>
            <p *ngIf="registerForm.get('email')?.getError('email')" class="my-0">please enter a valid email</p>
        </div>

        <label class="mt-3" for="password">password</label>
        <input class="form-control" formControlName="password" id="password" type="password">
        <div *ngIf="registerForm.get('password')?.invalid&&registerForm.get('password')?.touched" class="text-danger">
            <p *ngIf="registerForm.get('password')?.getError('required')" class="my-0">password is required</p>
            <p *ngIf="registerForm.get('password')?.getError('pattern')" class="my-0">password must start with uppercase
                followed by at laest 5 characters</p>
        </div>

        <label class="mt-3" for="rePassword">confirm Password</label>
        <input class="form-control" formControlName="rePassword" id="rePassword" type="password">
        <div *ngIf="registerForm.get('rePassword')?.invalid&&registerForm.get('rePassword')?.touched"
            class="text-danger">
            <!-- rePassword el P Capital -->
            <p *ngIf="registerForm.get('rePassword')?.getError('required')" class="my-0">repassword is required</p>
            <p *ngIf="registerForm.get('rePassword')?.getError('pattern')" class="my-0">repassword must start with
                uppercase followed by at laest 5 characters</p>
        </div>
        <!-- azer message w a5fiha ngIf w tazhr fe 7alt pass msh howa el repass -> mn registerForm el err hiegy fe obj bta3 el err bta3 el form kamla -->
         <!-- a5fy fe badaia w lma abd2 aktb azhro registerForm.get('rePassword') bad2t aktn .dirty w que lw hasel  -->
        <p class="text-danger"*ngIf="registerForm.getError('passwordMismatch') && registerForm.get('password')?.dirty && registerForm.get('rePassword')?.dirty">password doesn't match confirm rePassword</p>

        <label class="mt-3" for="phone">phone</label>
        <input class="form-control" formControlName="phone" id="phone" type="tel">
        <div *ngIf="registerForm.get('phone')?.invalid&&registerForm.get('phone')?.touched" class="text-danger">
            <p *ngIf="registerForm.get('phone')?.getError('required')" class="my-0">phone is required</p>
            <p *ngIf="registerForm.get('phone')?.getError('pattern')" class="my-0">please enter a valid egyption phone number</p>
        </div>
        <button [disabled]="registerForm.invalid ||isLoading " class="btn bg-main text-light my-3">
            <span *ngIf="!isLoading" >register</span>
             <span *ngIf="isLoading" class="fa-solid fa-spinner fa-spin "></span>
        </button>
        <!-- call api  http -->
    </form>
</div>